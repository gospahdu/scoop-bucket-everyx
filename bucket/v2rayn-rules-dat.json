{
    "homepage": "https://github.com/Loyalsoldier/v2ray-rules-dat",
    "description": "V2Ray 路由规则文件加强版",
    "version": "202405162210",
    "depends": "v2rayn",
    "checkver": "github",
    "url": [
        "https://github.com/Loyalsoldier/v2ray-rules-dat/releases/download/202405162210/geoip.dat",
        "https://github.com/Loyalsoldier/v2ray-rules-dat/releases/download/202405162210/geosite.dat"
    ],
    "hash": [
        "7b3cf1bd319d79f8e1d2d9fc7cbce06b97e0ea9d1ea1cf1b8fe1532a34bdba0f",
        "76f203ec267425921b913fee120b0f2610acf1f822dc9428e892d752c3247b9c"
    ],
    "post_install": [
        "foreach ($file in @('geoip.dat', 'geosite.dat')) {",
        "   if (-not(Test-Path -PathType Leaf -Path \"$(appdir v2rayn)\\current\\$file.bak\")) {",
        "       if (Test-Path -PathType Leaf -Path \"$(appdir v2rayn)\\current\\$file\") {",
        "           Move-Item \"$(appdir v2rayn)\\current\\$file\" \"$(appdir v2rayn)\\current\\$file.bak\"",
        "       }",
        "       New-Item -Path \"$(appdir v2rayn)\\current\" -Name $file -ItemType HardLink -Value \"$dir\\$file\"",
        "   }",
        "}"
    ],
    "uninstaller": {
        "script": [
            "foreach ($file in @('geoip.dat', 'geosite.dat')) {",
            "   if (Test-Path -PathType Leaf -Path \"$(appdir v2rayn)\\current\\$file.bak\") {",
            "       if (Test-Path -PathType Leaf -Path \"$(appdir v2rayn)\\current\\$file\") {",
            "           Remove-Item \"$(appdir v2rayn)\\current\\$file\"",
            "       }",
            "       Move-Item \"$(appdir v2rayn)\\current\\$file.bak\" \"$(appdir v2rayn)\\current\\$file\"",
            "   }",
            "}"
        ]
    },
    "autoupdate": {
        "url": [
            "https://github.com/Loyalsoldier/v2ray-rules-dat/releases/download/$version/geoip.dat",
            "https://github.com/Loyalsoldier/v2ray-rules-dat/releases/download/$version/geosite.dat"
        ]
    }
}
